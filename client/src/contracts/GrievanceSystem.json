{
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_citizenRegistryAddress",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "grievanceId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "officer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "GrievanceAssigned",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "grievanceId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "resolution",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "GrievanceResolved",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "grievanceId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "enum GrievanceSystem.GrievanceStatus",
          "name": "status",
          "type": "uint8"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "GrievanceStatusUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "grievanceId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "citizen",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "title",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "GrievanceSubmitted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "officer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "department",
          "type": "string"
        }
      ],
      "name": "OfficerAuthorized",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_grievanceId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "_officer",
          "type": "address"
        }
      ],
      "name": "assignGrievance",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_officer",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "_department",
          "type": "string"
        }
      ],
      "name": "authorizeOfficer",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "authorizedOfficers",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "citizenGrievances",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "citizenRegistry",
      "outputs": [
        {
          "internalType": "contract CitizenRegistry",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_citizen",
          "type": "address"
        }
      ],
      "name": "getCitizenGrievances",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_officer",
          "type": "address"
        }
      ],
      "name": "getOfficerGrievances",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "grievances",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "grievanceId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "citizen",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "title",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "description",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "category",
          "type": "string"
        },
        {
          "internalType": "enum GrievanceSystem.Priority",
          "name": "priority",
          "type": "uint8"
        },
        {
          "internalType": "enum GrievanceSystem.GrievanceStatus",
          "name": "status",
          "type": "uint8"
        },
        {
          "internalType": "address",
          "name": "assignedOfficer",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "resolution",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "createdDate",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "updatedDate",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "resolvedDate",
          "type": "uint256"
        },
        {
          "internalType": "int8",
          "name": "sentimentScore",
          "type": "int8"
        },
        {
          "internalType": "bool",
          "name": "isActive",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nextGrievanceId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "officerGrievances",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_grievanceId",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "_resolution",
          "type": "string"
        }
      ],
      "name": "resolveGrievance",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_title",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "_description",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "_category",
          "type": "string"
        },
        {
          "internalType": "enum GrievanceSystem.Priority",
          "name": "_priority",
          "type": "uint8"
        },
        {
          "internalType": "int8",
          "name": "_sentimentScore",
          "type": "int8"
        }
      ],
      "name": "submitGrievance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_grievanceId",
          "type": "uint256"
        },
        {
          "internalType": "enum GrievanceSystem.GrievanceStatus",
          "name": "_status",
          "type": "uint8"
        }
      ],
      "name": "updateGrievanceStatus",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x6080604052600160065534801561001557600080fd5b506040516117ad3803806117ad8339810160408190526100349161005e565b6001600081905580546001600160a01b0319166001600160a01b039290921691909117905561008e565b60006020828403121561007057600080fd5b81516001600160a01b038116811461008757600080fd5b9392505050565b6117108061009d6000396000f3fe608060405234801561001057600080fd5b50600436106100cf5760003560e01c80633d014b6d1161008c578063651a39dd11610066578063651a39dd146101e9578063a59612ab146101fc578063be4d78531461020f578063e9a8735e1461022257600080fd5b80633d014b6d14610183578063493c95ab146101965780634a7b7677146101b657600080fd5b80630963e583146100d4578063356f1d75146100f057806336734f811461011d57806337ce555e14610132578063386ca89d146101455780633aa49ed914610170575b600080fd5b6100dd60065481565b6040519081526020015b60405180910390f35b6101036100fe366004611046565b610235565b6040516100e79e9d9c9b9a999897969594939291906110df565b61013061012b366004611254565b6104e5565b005b6100dd6101403660046112b7565b61069c565b600154610158906001600160a01b031681565b6040516001600160a01b0390911681526020016100e7565b61013061017e3660046112e1565b6106cd565b6100dd6101913660046112b7565b610782565b6101a96101a4366004611319565b61079e565b6040516100e7919061133b565b6101d96101c4366004611319565b60056020526000908152604090205460ff1681565b60405190151581526020016100e7565b6100dd6101f736600461137f565b61080a565b61013061020a36600461143a565b610c26565b61013061021d36600461146e565b610d78565b6101a9610230366004611319565b610f83565b600260208190526000918252604090912080546001820154928201805491936001600160a01b031692916102689061149a565b80601f01602080910402602001604051908101604052809291908181526020018280546102949061149a565b80156102e15780601f106102b6576101008083540402835291602001916102e1565b820191906000526020600020905b8154815290600101906020018083116102c457829003601f168201915b5050505050908060030180546102f69061149a565b80601f01602080910402602001604051908101604052809291908181526020018280546103229061149a565b801561036f5780601f106103445761010080835404028352916020019161036f565b820191906000526020600020905b81548152906001019060200180831161035257829003601f168201915b5050505050908060040180546103849061149a565b80601f01602080910402602001604051908101604052809291908181526020018280546103b09061149a565b80156103fd5780601f106103d2576101008083540402835291602001916103fd565b820191906000526020600020905b8154815290600101906020018083116103e057829003601f168201915b505050506005830154600684018054939460ff8084169561010085049091169450620100009093046001600160a01b03169290919061043b9061149a565b80601f01602080910402602001604051908101604052809291908181526020018280546104679061149a565b80156104b45780601f10610489576101008083540402835291602001916104b4565b820191906000526020600020905b81548152906001019060200180831161049757829003601f168201915b50505050600783015460088401546009850154600a9095015493949193909250600081900b90610100900460ff168e565b3360009081526005602052604090205460ff1661051d5760405162461bcd60e51b8152600401610514906114d4565b60405180910390fd5b610525610fed565b6000828152600260205260409020600a0154610100900460ff1661055b5760405162461bcd60e51b815260040161051490611504565b6000828152600260205260409020600501546201000090046001600160a01b031633146105c15760405162461bcd60e51b81526020600482015260146024820152732737ba1030b9b9b4b3b732b21037b33334b1b2b960611b6044820152606401610514565b60008151116106085760405162461bcd60e51b815260206004820152601360248201527214995cdbdb1d5d1a5bdb881c995c5d5a5c9959606a1b6044820152606401610514565b600082815260026020526040902060058101805461ff0019166102001790556006016106348282611581565b506000828152600260205260409081902042600982018190556008909101819055905183917f76c59c73a140fe9f07996bd6c05f6b162bad088056ec206bc6ee98b95159831f91610686918591611641565b60405180910390a26106986001600055565b5050565b600360205281600052604060002081815481106106b857600080fd5b90600052602060002001600091509150505481565b6001600160a01b0382166107235760405162461bcd60e51b815260206004820152601760248201527f496e76616c6964206f66666963657220616464726573730000000000000000006044820152606401610514565b6001600160a01b03821660008181526005602052604090819020805460ff19166001179055517f7437a81cf4ffac2ccc9be07d0945880c32261f99ce10459a09c9506a4d9503cc90610776908490611663565b60405180910390a25050565b600460205281600052604060002081815481106106b857600080fd5b6001600160a01b0381166000908152600460209081526040918290208054835181840281018401909452808452606093928301828280156107fe57602002820191906000526020600020905b8154815260200190600101908083116107ea575b50505050509050919050565b60015460405163c3c5a54760e01b81523360048201526000916001600160a01b03169063c3c5a54790602401602060405180830381865afa158015610853573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108779190611676565b6108bc5760405162461bcd60e51b81526020600482015260166024820152752737ba103932b3b4b9ba32b932b21031b4ba34bd32b760511b6044820152606401610514565b6108c4610fed565b60008651116109065760405162461bcd60e51b815260206004820152600e60248201526d151a5d1b19481c995c5d5a5c995960921b6044820152606401610514565b600085511161094e5760405162461bcd60e51b815260206004820152601460248201527311195cd8dc9a5c1d1a5bdb881c995c5d5a5c995960621b6044820152606401610514565b6063198260000b12158015610967575060648260000b13155b6109b35760405162461bcd60e51b815260206004820152601760248201527f496e76616c69642073656e74696d656e742073636f72650000000000000000006044820152606401610514565b60068054600091826109c483611698565b919050559050604051806101c00160405280828152602001336001600160a01b03168152602001888152602001878152602001868152602001856003811115610a0f57610a0f6110a5565b81526020016000815260006020808301829052604080518083018252838152818501524260608501819052608085015260a0840183905287830b60c0850152600160e0909401849052858352600280835292819020855181559185015193820180546001600160a01b0319166001600160a01b03909516949094179093559183015190820190610a9f9082611581565b5060608201516003820190610ab49082611581565b5060808201516004820190610ac99082611581565b5060a082015160058201805460ff19166001836003811115610aed57610aed6110a5565b021790555060c082015160058201805461ff001916610100836004811115610b1757610b176110a5565b021790555060e08201516005820180546001600160a01b03909216620100000262010000600160b01b03199092169190911790556101008201516006820190610b609082611581565b50610120820151600782015561014082015160088201556101608201516009820155610180820151600a90910180546101a09093015115156101000261ffff1990931660ff90921691909117919091179055336000818152600360209081526040808320805460018101825590845291909220018390555182907f647af056b4d98b84e2632934af1a3335014c0ada2144e944aafa26a6c3255c6790610c09908b904290611641565b60405180910390a39050610c1d6001600055565b95945050505050565b3360009081526005602052604090205460ff16610c555760405162461bcd60e51b8152600401610514906114d4565b610c5d610fed565b6000828152600260205260409020600a0154610100900460ff16610c935760405162461bcd60e51b815260040161051490611504565b6000828152600260205260409020600501546201000090046001600160a01b03163314610cf95760405162461bcd60e51b81526020600482015260146024820152732737ba1030b9b9b4b3b732b21037b33334b1b2b960611b6044820152606401610514565b6000828152600260205260409020600501805482919061ff001916610100836004811115610d2957610d296110a5565b021790555060008281526002602052604090819020426008909101819055905183917f7f6d45b6ea45f6b312e3ed660d7370a2e6ae87eb63da70b4a9570ff468d87d19916106869185916116bf565b3360009081526005602052604090205460ff16610da75760405162461bcd60e51b8152600401610514906114d4565b610daf610fed565b6000828152600260205260409020600a0154610100900460ff16610de55760405162461bcd60e51b815260040161051490611504565b60008083815260026020526040902060050154610100900460ff166004811115610e1157610e116110a5565b14610e535760405162461bcd60e51b815260206004820152601260248201527123b934b2bb30b731b2903737ba1037b832b760711b6044820152606401610514565b6001600160a01b03811660009081526005602052604090205460ff16610eb45760405162461bcd60e51b815260206004820152601660248201527513d9999a58d95c881b9bdd08185d5d1a1bdc9a5e995960521b6044820152606401610514565b6000828152600260209081526040808320600581018054610100600160b01b031916620100006001600160a01b03881690810261ff0019169190911761010017909155426008909201829055808552600484528285208054600181018255908652948490209094018690558151908152905185927f4279819884f1b203dcff5e39dd54f6e2935d200acf1ffcc57838428264cd7e27928290030190a3817f7f6d45b6ea45f6b312e3ed660d7370a2e6ae87eb63da70b4a9570ff468d87d196001426040516106869291906116bf565b6001600160a01b0381166000908152600360209081526040918290208054835181840281018401909452808452606093928301828280156107fe57602002820191906000526020600020908154815260200190600101908083116107ea5750505050509050919050565b60026000540361103f5760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c006044820152606401610514565b6002600055565b60006020828403121561105857600080fd5b5035919050565b6000815180845260005b8181101561108557602081850181015186830182015201611069565b506000602082860101526020601f19601f83011685010191505092915050565b634e487b7160e01b600052602160045260246000fd5b600481106110cb576110cb6110a5565b9052565b600581106110cb576110cb6110a5565b8e81526001600160a01b038e1660208201526101c0604082015260006111096101c083018f61105f565b828103606084015261111b818f61105f565b9050828103608084015261112f818e61105f565b905061113e60a084018d6110bb565b61114b60c084018c6110cf565b6001600160a01b038a1660e084015282810361010084015261116d818a61105f565b91505086610120830152856101408301528461016083015261119561018083018560000b9052565b8215156101a08301529f9e505050505050505050505050505050565b634e487b7160e01b600052604160045260246000fd5b600082601f8301126111d857600080fd5b813567ffffffffffffffff808211156111f3576111f36111b1565b604051601f8301601f19908116603f0116810190828211818310171561121b5761121b6111b1565b8160405283815286602085880101111561123457600080fd5b836020870160208301376000602085830101528094505050505092915050565b6000806040838503121561126757600080fd5b82359150602083013567ffffffffffffffff81111561128557600080fd5b611291858286016111c7565b9150509250929050565b80356001600160a01b03811681146112b257600080fd5b919050565b600080604083850312156112ca57600080fd5b6112d38361129b565b946020939093013593505050565b600080604083850312156112f457600080fd5b6112fd8361129b565b9150602083013567ffffffffffffffff81111561128557600080fd5b60006020828403121561132b57600080fd5b6113348261129b565b9392505050565b6020808252825182820181905260009190848201906040850190845b8181101561137357835183529284019291840191600101611357565b50909695505050505050565b600080600080600060a0868803121561139757600080fd5b853567ffffffffffffffff808211156113af57600080fd5b6113bb89838a016111c7565b965060208801359150808211156113d157600080fd5b6113dd89838a016111c7565b955060408801359150808211156113f357600080fd5b50611400888289016111c7565b93505060608601356004811061141557600080fd5b91506080860135600081900b811461142c57600080fd5b809150509295509295909350565b6000806040838503121561144d57600080fd5b8235915060208301356005811061146357600080fd5b809150509250929050565b6000806040838503121561148157600080fd5b823591506114916020840161129b565b90509250929050565b600181811c908216806114ae57607f821691505b6020821081036114ce57634e487b7160e01b600052602260045260246000fd5b50919050565b6020808252601690820152752737ba1030baba3437b934bd32b21037b33334b1b2b960511b604082015260600190565b6020808252601490820152734772696576616e6365206e6f742061637469766560601b604082015260600190565b601f82111561157c57600081815260208120601f850160051c810160208610156115595750805b601f850160051c820191505b8181101561157857828155600101611565565b5050505b505050565b815167ffffffffffffffff81111561159b5761159b6111b1565b6115af816115a9845461149a565b84611532565b602080601f8311600181146115e457600084156115cc5750858301515b600019600386901b1c1916600185901b178555611578565b600085815260208120601f198616915b82811015611613578886015182559484019460019091019084016115f4565b50858210156116315787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b604081526000611654604083018561105f565b90508260208301529392505050565b602081526000611334602083018461105f565b60006020828403121561168857600080fd5b8151801515811461133457600080fd5b6000600182016116b857634e487b7160e01b600052601160045260246000fd5b5060010190565b604081016116cd82856110cf565b826020830152939250505056fea26469706673582212206a202e869c2290b37da9703ed5d4477aade92495c02e8a895a783e5433c0627264736f6c63430008130033"
}